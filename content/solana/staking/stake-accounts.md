+++
title = "Структура стейкинг-счета"
sort_by = "weight"
updated = 2022-10-02T15:00:00Z
+++

Учетная запись доли в Solana может использоваться для делегирования токенов валидаторам в сети, чтобы потенциально получать вознаграждение для владельца учетной записи доли.
Учетные записи ставок создаются и управляются иначе, чем традиционный адрес кошелька, известный как _системная учетная запись_. Системная учетная запись может отправлять и получать SOL только от других учетных записей в сети, тогда как учетная запись доли поддерживает более сложные операции, необходимые для управления делегированием токенов.

Учетные записи Stake в Solana также работают иначе, чем в других блокчейн-сетях Proof-of-Stake, с которыми вы, возможно, знакомы. В этом документе описывается общая структура и функции учетной записи кола Solana.

#### Адрес счета

Каждая учетная запись доли имеет уникальный адрес, который можно использовать для поиска информации об учетной записи в командной строке или в любых инструментах сетевого обозревателя. Однако, в отличие от адреса кошелька, в котором владелец пары ключей адреса контролирует кошелек, пара ключей, связанная с адресом учетной записи доли, не обязательно имеет какой-либо контроль над учетной записью. На самом деле, пара ключей или закрытый ключ могут даже не существовать для адреса стейкинг-аккаунта.

Единственный раз, когда адрес учетной записи доли имеет файл пары ключей, это когда [создание учетной записи доли с помощью инструментов командной строки](../cli/delegate-stake.md#create-a-stake-account).
Сначала создается новый файл пары ключей только для того, чтобы гарантировать, что адрес учетной записи доли является новым и уникальным.

#### Общие сведения о полномочиях учетной записи

Некоторые типы учетных записей могут иметь одно или несколько _подписывающих_ полномочий, связанных с данной учетной записью. Полномочия учетной записи используются для подписания определенных транзакций для контролируемой учетной записи. Это отличается от некоторых других блокчейн-сетей, где владелец пары ключей, связанной с адресом учетной записи, контролирует всю активность учетной записи.

Каждая учетная запись доли имеет два органа подписи, указанные их соответствующим адресом, каждая из которых уполномочена выполнять определенные операции на учетной записи доли.

_Stake Authority_ используется для подписи транзакций для следующих операций:

- делегирование ставки
- Деактивация делегирования кола
- Разделение счета ставок, создание нового счета ставок с частью средств на первом счете
- Объединение двух учетных записей доли в одну
- Установление нового органа кола

Полномочия на вывод средств_ подписывают транзакции для следующих целей:

- Вывод неделегированной доли на адрес кошелька
- Установка нового права на вывод средств
- Установление нового органа кола

Полномочия на ставку и полномочия на снятие средств устанавливаются при создании учетной записи на ставке, и их можно изменить для авторизации нового адреса для подписи в любое время.
Разрешение на ставку и снятие может быть одним и тем же адресом или двумя разными адресами.

Пара ключей полномочий на снятие имеет больший контроль над учетной записью, поскольку она необходима для ликвидации токенов в учетной записи доли, и может использоваться для сброса полномочий доли, если пара ключей полномочий доли будет потеряна или скомпрометирована.

Защита права на снятие средств от потери или кражи имеет первостепенное значение при управлении счетом доли.

#### Несколько делегаций

Каждая учетная запись доли может быть использована для делегирования только одному валидатору за раз.
Все токены в учетной записи либо делегированы, либо не делегированы, либо находятся в процессе делегирования или неделегирования. Чтобы делегировать часть ваших токенов валидатору или делегировать нескольким валидаторам, вы должны создать несколько учетных записей доли.

Это может быть достигнуто путем создания нескольких учетных записей ставок с адреса кошелька, содержащего несколько токенов, или путем создания одной учетной записи крупной ставки и использования полномочий ставки для разделения учетной записи на несколько учетных записей с балансом токенов по вашему выбору.

Одни и те же полномочия по ставкам и снятию средств могут быть назначены нескольким учетным записям ставок.

#### Объединение стейк-аккаунтов

Две учетные записи доли с одинаковыми полномочиями и блокировкой могут быть объединены в одну результирующую учетную запись доли. Слияние возможно между двумя ставками в следующих состояниях без дополнительных условий:

- две деактивированные ставки
- неактивная ставка в активирующуюся ставку в эпоху ее активации

В следующих случаях открытый ключ избирателя и наблюдаемые кредиты голосов должны совпадать:

- две активированные ставки
- две активирующие учетные записи, которые разделяют эпоху активации, в течение эпохи активации

Все другие комбинации состояний ставки не объединятся, включая все «переходные» состояния, когда ставка активируется или деактивируется с ненулевой эффективной ставкой.

#### Разминка делегирования и перезарядка

Когда учетная запись доли делегируется или делегирование деактивируется, операция не вступает в силу немедленно.

Для завершения делегирования или деактивации требуется несколько [эпох](../terminology.md#epoch), при этом часть делегирования становится активной или неактивной на каждой границе эпохи после того, как транзакция, содержащая инструкции, была отправлена ​​в кластер.

Также существует ограничение на то, какая общая доля может быть делегирована или деактивирована за одну эпоху, чтобы предотвратить внезапные резкие изменения ставок по сети в целом. Поскольку прогрев и восстановление зависят от поведения других участников сети, их точную продолжительность трудно предсказать.
Подробности о времени разогрева и восстановления можно найти [здесь](../cluster/stake-delegation-and-rewards.md#stake-warmup-cooldown-withdrawal).

#### Блокировки

Учетные записи Stake могут иметь блокировку, которая предотвращает снятие имеющихся у них токенов до достижения определенной даты или эпохи. Несмотря на то, что учетная запись заблокирована, ее можно делегировать, отменить делегирование или разделить, а ее права на ставку и снятие средств можно изменить как обычно. Запрещен только вывод на адрес кошелька.

Блокировка может быть добавлена ​​только при первом создании учетной записи доли, но она может быть изменена позже _органом блокировки_ или _хранителем_, адрес которого также устанавливается при создании учетной записи.

#### Уничтожение стейк-аккаунта

Как и другие типы учетных записей в сети Solana, учетная запись доли с балансом 0 SOL больше не отслеживается. Если учетная запись доли не делегирована и все содержащиеся в ней токены выведены на адрес кошелька, учетная запись по этому адресу фактически уничтожается, и ее необходимо будет заново создать вручную, чтобы адрес можно было использовать снова.

#### Просмотр счетов ставок

Сведения об учетной записи Stake можно просмотреть в [Solana Explorer](http://explorer.solana.com/accounts), скопировав и вставив адрес учетной записи в строку поиска.
