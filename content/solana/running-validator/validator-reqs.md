+++
title = "Требования к валидатору"
sort_by = "weight"
updated = 2022-10-02T15:00:00Z
+++

## Минимальные требования SOL

Не существует строгого минимального количества SOL, необходимого для запуска валидатора на Solana.

Однако для участия в консенсусе требуется учетная запись для голосования с необлагаемым рентой резервом в размере 0,02685864 SOL. Голосование также требует отправки голосовой транзакции для каждого блока, с которым согласен валидатор, что может стоить до 1,1 SOL в день.

## Рекомендации по оборудованию

- ПРОЦЕССОР
  - 12 ядер/24 потока и более
  - 2,8 ГГц или выше
  - Поддержка инструкций AVX2 (для использования официальных бинарных файлов выпуска, в противном случае компилируйте самостоятельно)
  - Поддержка инструкций AVX512f и/или SHA-NI полезна.
  - Серия AMD Zen3 популярна в сообществе валидаторов.
- ОЗУ
  - 128 ГБ или больше
  - Рекомендуется материнская плата емкостью 256 ГБ.
- Диск
  - Твердотельный накопитель PCIe Gen3 x4 NVME или лучше
  - Аккаунты: 500 ГБ или больше. Высокий TBW (всего записанных байтов)
  - Леджер: 1 ТБ или больше. Рекомендуется высокое TBW
  - ОС: (необязательно) 500 ГБ или больше. SATA ОК
  - ОС может быть установлена ​​на диск леджера, хотя тестирование показало лучшую производительность с леджером на собственном диске.
  - Учетные записи и бухгалтерская книга _могут_ храниться на одном диске, однако из-за большого количества операций ввода-вывода в секунду это не рекомендуется.
  - Твердотельные накопители Samsung серий 970 и 980 Pro популярны среди сообщества валидаторов.
- графические процессоры
  - В настоящее время не является строго необходимым
  - Материнская плата и блок питания предназначены для добавления одного или нескольких высокопроизводительных графических процессоров в будущем.

### Рекомендации по узлу RPC

Приведенные выше рекомендации по оборудованию следует рассматривать как минимум, если валидатор предполагается использовать в качестве узла RPC. Для обеспечения полной функциональности и повышения надежности необходимо выполнить следующие настройки.

- ПРОЦЕССОР
  - 16 ядер/32 потока и более
- ОЗУ
  - 256 ГБ или более
- Диск
  - Рассмотрите возможность использования большего диска реестра, если требуется более длинная история транзакций.
  - Счета и бухгалтерская книга не должны храниться на одном диске.

## Виртуальные машины на облачных платформах

Хотя вы можете запустить валидатор на платформе облачных вычислений, в долгосрочной перспективе это может оказаться нерентабельным.

Однако может быть удобно запускать узлы API без права голоса на экземплярах ВМ для собственного внутреннего использования. Этот вариант использования включает биржи и сервисы, построенные на Solana.

Фактически, бета-валидаторы основной сети, которыми управляет команда, в настоящее время (март 2021 г.) работают на экземплярах GCE `n2-standard-32` (32 виртуальных ЦП, 128 ГБ памяти) с 2048 ГБ SSD для удобства работы.

Для других облачных платформ выберите типы экземпляров с похожими характеристиками.

Также обратите внимание, что использование исходящего интернет-трафика может оказаться высоким, особенно в случае запуска стейкинговых валидаторов.

## Докер

Запуск валидатора для активных кластеров (включая бета-версию основной сети) внутри Docker не рекомендуется и, как правило, не поддерживается. Это связано с опасениями по поводу общих накладных расходов Docker на контейнеризацию и, как следствие, снижения производительности, если они не настроены специально.

Мы используем Docker только для целей разработки. Docker Hub содержит образы для всех выпусков на [solanalabs/solana](https://hub.docker.com/r/solanalabs/solana).

## Программное обеспечение

- Мы собираем и запускаем Ubuntu 20.04.
- См. [Установка Solana](../cli/install-solana-cli-tools/) для получения информации о текущей версии программного обеспечения Solana.

Готовые двоичные файлы доступны для Linux x86_64 на процессорах, поддерживающих AVX2 (рекомендуется Ubuntu 20.04).
Пользователи MacOS или WSL могут выполнять сборку из исходного кода.

## Сеть

Интернет-сервис должен быть не менее 300 Мбит/с, симметричный, коммерческий. Предпочтительно 1 Гбит/с

### Перенаправление порта

Следующие порты должны быть открыты для Интернета как для входящего, так и для исходящего трафика.

Не рекомендуется запускать валидатор за NAT. Операторы, решившие это сделать, должны самостоятельно настраивать свое сетевое оборудование и устранять любые проблемы с обходом.

#### Необходимые

- 8000-10000 TCP/UDP - Протоколы P2P (сплетни, турбина, ремонт и т.д.). Это может быть ограничено любым свободным диапазоном из 12 портов с помощью `--dynamic-port-range`

#### По желанию

В целях безопасности не рекомендуется, чтобы следующие порты были открыты для Интернета на стейкинговых бета-валидаторах основной сети.

- 8899 TCP - JSONRPC через HTTP. Изменить с помощью `--rpc-port RPC_PORT``
- 8900 TCP - JSONRPC через веб-сокеты. Полученный. Использует `RPC_PORT + 1`

## Требования к графическому процессору

CUDA требуется для использования графического процессора в вашей системе. Предоставленные двоичные файлы выпуска Solana построены на Ubuntu 20.04 с [CUDA Toolkit 10.1 update 1](https://developer.nvidia.com/cuda-toolkit-archive). Если на вашем компьютере используется другая версия CUDA, вам потребуется выполнить перестроение из исходного кода.
