+++
title = "Тестовый валидатор Solana"
sort_by = "weight"
updated = 2022-10-02T15:00:00Z
+++

На ранней стадии разработки часто бывает удобно ориентироваться на кластер с меньшими ограничениями и большим количеством вариантов конфигурации, чем в общедоступных предложениях. Этого легко добиться с помощью двоичного файла solana-test-validator, который запускает полнофункциональный одноузловой кластер на рабочей станции разработчика.

## Преимущества

- Нет ограничений скорости RPC
- Нет ограничений по аирдропу
- Прямое развертывание [ончейн-программы](ончейн-программы/обзор) (`--bpf-program...`)
- Клонировать аккаунты из публичного кластера, включая программы (`--clone...`)
- Загружать аккаунты из файлов
- Настраиваемое сохранение истории транзакций (`--limit-ledger-size...`)
- Настраиваемая продолжительность эпохи (`--slots-per-epoch...`)
- Перейти к произвольному слоту (`--warp-slot...`)

## Установка

Бинарный файл solana-test-validator поставляется вместе с Solana CLI Tool Suite. [Установить](/cli/install-solana-cli-tools), прежде чем продолжить.

## Бег

Сначала взгляните на параметры конфигурации

```
solana-test-validator --help
```

Затем запустите тестовый валидатор

```
solana-test-validator
```

По умолчанию основная информация о состоянии печатается во время выполнения процесса. Подробности см. в Приложении I.

```
Ledger location: test-ledger
Log: test-ledger/validator.log
Identity: EPhgPANa5Rh2wa4V2jxt7YbtWa3Uyw4sTeZ13cQjDDB8
Genesis Hash: 4754oPEMhAKy14CZc8GzQUP93CB4ouELyaTs4P8ittYn
Version: 1.6.7
Shred Version: 13286
Gossip Address: 127.0.0.1:1024
TPU Address: 127.0.0.1:1027
JSON RPC URL: http://127.0.0.1:8899
⠈ 00:36:02 | Processed Slot: 5142 | Confirmed Slot: 5142 | Finalized Slot: 5110 | Snapshot Slot: 5100 | Transactions: 5142 | ◎499.974295000
```

Оставьте solana-test-validator запущенным в отдельном терминале. Когда он больше не нужен, его можно остановить с помощью Ctrl-C.

## Взаимодействие

Откройте новый терминал для взаимодействия с [работающим] (#running) экземпляром solana-test-validator, используя другие двоичные файлы из Solana CLI Tool Suite или вашего собственного клиентского программного обеспечения.

#### Настройте набор инструментов CLI для работы с локальным кластером по умолчанию.

```
solana config set --url http://127.0.0.1:8899
```

#### Проверьте конфигурацию CLI Tool Suite

```
solana genesis-hash
```

- **ПРИМЕЧАНИЕ. ** Результат должен соответствовать полю «Genesis Hash:» в выводе состояния «solana-test-validator».

#### Проверить баланс кошелька

```
solana balance
```

- **ПРИМЕЧАНИЕ:** `Ошибка: нет такого файла или каталога (ошибка ОС 2)` означает, что кошелек по умолчанию еще не существует. Создайте его с помощью `solana-keygen new`.
- **ПРИМЕЧАНИЕ.** Если в кошельке нулевой баланс SOL, раздайте немного SOL в локальной сети с помощью `solana airdrop 10`.

#### Выполнить базовую транзакцию перевода

```
solana transfer EPhgPANa5Rh2wa4V2jxt7YbtWa3Uyw4sTeZ13cQjDDB8 1
```

#### Отслеживайте вывод `msg!()` из сетевых программ

```
solana logs
```

- **ПРИМЕЧАНИЕ.** Эта команда должна выполняться при выполнении целевой транзакции. Запустите его в собственном терминале

## Приложение I: Вывод состояния

```
Ledger location: test-ledger
```

- Путь к файлу каталога хранения леджера. Этот каталог может стать большим. Сохраняйте меньше истории транзакций с помощью `--limit-ledger-size ...` или перемещайте ее с помощью `--ledger ...`

```
Log: test-ledger/validator.log
```

- Путь к файлу текстового журнала валидатора. Журнал также можно передать в потоковом режиме, передав `--log`. В этом случае вывод состояния подавляется.

```
Identity: EPhgPANa5Rh2wa4V2jxt7YbtWa3Uyw4sTeZ13cQjDDB8
```

- Личность валидатора в [сети сплетен](/validator/gossip#gossip-overview)

```
Version: 1.6.7
```

- Версия программного обеспечения

```
Gossip Address: 127.0.0.1:1024
TPU Address: 127.0.0.1:1027
JSON RPC URL: http://127.0.0.1:8899
```

- Сетевой адрес [Gossip](/validator/gossip#gossip-overview), [блока обработки транзакций](/validator/tpu) и [JSON RPC](clients/jsonrpc-api#json-rpc-api-reference) обслуживание соответственно

```
⠈ 00:36:02 | Processed Slot: 5142 | Confirmed Slot: 5142 | Finalized Slot: 5110 | Snapshot Slot: 5100 | Transactions: 5142 | ◎499.974295000
```

- Время выполнения сеанса, текущий слот трех блоков [уровни обязательств](clients/jsonrpc-api#configuring-state-commitment), высота слота последнего снимка, количество транзакций, [право голоса](/running-validator/vote -accounts#vote-authority) баланс
