+++
title = "Последовательный метод Фрагмена?"
sort_by = "weight"
updated = 2022-10-02T15:00:00Z
+++

---
description: 'https://wiki.polkadot.network/docs/en/learn-phragmen'
---

## Что такое последовательный метод Фрагмена?

Последовательный метод Фрагмена - это метод выборов с несколькими победителями, введенный Эдвардом Фрагменом в 1890-х годах.

Цитата ниже, взятая из ссылки [документ Phragmen](https://arxiv.org/pdf/1611.08826.pdf), резюмирует цель последовательного метода Phragmen:

> Проблема, которую пытаются решить методы Фрагмена, состоит в том, чтобы выбрать набор заданного числа людей из большего набора кандидатов. Фрагмен обсудил это в контексте парламентских выборов в многомандатном округе; та же проблема может, конечно, возникнуть и на местных выборах, но также и во многих других ситуациях, таких как выборы правления или комитета в организации.

## Где используется метод Phragmen в Edgeware?

### NPoS: выборы валидатора

Последовательный метод Phragmen используется в схеме Nominated Proof-of-Stake для выбора валидаторов на основе их собственной собственной ставки и доли, полученной от номинаторов. Он также пытается уравнять веса между валидаторами после каждого тура выборов. Поскольку в Polkadot валидаторам платят одинаково, важно, чтобы доля каждого валидатора была распределена. Метод выравнивания запускается дважды для каждого выбора валидатора. Первая итерация выполнит грубое выравнивание среди всех кандидатов-валидаторов, чтобы определить подмножество, которое станет следующими активными валидаторами. Вторая итерация проводится только среди избранных кандидатов, чтобы уравнять долю между избранными.

### Выборы в Совет

Метод Фрагмена также используется в механизме выборов совета. Когда вы голосуете за членов совета, вы можете выбрать до 16 разных кандидатов, а затем разместить зарезервированную облигацию, которая является весом вашего голоса. Фрагмены будут баллотироваться один раз на каждых выборах, чтобы определить лучших кандидатов, которые займут должности в совете, а затем снова среди лучших кандидатов, чтобы максимально уравнять вес голосов за ними.

## Что это значит для операторов узлов?

Phragmen работает в фоновом режиме и не требует от вас дополнительных усилий. Тем не менее, полезно понимать, как это работает, поскольку это означает, что не вся ставка, которую вы номинировали, окажется на вашем валидаторе после выборов. Номинаторы, скорее всего, назначат несколько разных валидаторов, которые, по их мнению, хорошо справятся с работой своих узлов.

Вы можете использовать скрипт [offline-phragmen](https://github.com/kianenigma/offline-phragmen) для предсказания исхода выборов валидатора перед началом новой эры.

## Внешние ресурсы

- [Страница исследования W3F по методу последовательных фрагментов](https://research.web3.foundation/en/latest/polkadot/NPoS/4.%20Sequential%20Phragm%C3%A9n%E2%80%99s%20method/) - Формальная адаптация метода Phragmen применительно к валидаторам Polkadot.
- [Эталонные реализации Python](https://github.com/w3f/consensus/tree/master/NPoS) - Реализации простых и сложных методов Phragmen.
- [Реализация субстрата](https://github.com/paritytech/substrate/blob/master/core/phragmen/src/lib.rs) - реализация Rust, используемая в библиотеке модулей времени выполнения субстрата.
- [Методы выборов Фрагмена и Тиле](https://arxiv.org/pdf/1611.08826.pdf) - 95-страничный документ, подробно объясняющий методы выборов Фрагмена.
- [Offline Phragmen](https://github.com/kianenigma/offline-phragmen) - Скрипт для генерации результатов выборов валидатора Phragmen перед началом эры.
