<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>3. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ –¢–≤–∏—Ç—Ç–µ—Ä–µ | Dudochkin Victor </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="google-site-verification" content="Kepqb6k6uptlwngnHbBVJmqQtwNW8zfHyQBbTXLYAgA" />
    <meta name="yandex-verification" content="8e8bc73c2566b473" />
    <style>
    :root {
        /* Primary theme color */
        /* --primary-color: #121A26; */
        --primary-color: #0f1419;
        /* Primary theme text color */
        /* --primary-text-color: #121A26; */
        --primary-text-color: #0f1419;
        /* Primary theme link color */
        --primary-link-color: #053961;
        /* Secondary color: the background body color */
        --secondary-color: #F0F0F0;
        --secondary-text-color: #1C2834;
        /* Highlight text color of table of content */
        --toc-highlight-text-color: #053961;
    }
</style>
    
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-47MMPLLY44"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-47MMPLLY44');
    </script>
    

    
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
    
        ym('87064264', "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/87064264" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
    
    
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/mdl.min.css">
    <link rel="stylesheet" href="https://dudochkin-victor.github.io/style.css">
    
    
</head>

<body>
    
<header class="box-shadow">
    

<a href="https:&#x2F;&#x2F;dudochkin-victor.github.io&#x2F;">
    <div class="logo">
        <img src="https://dudochkin-victor.github.io/ferris.png" alt="logo">
        Dudochkin Victor
    </div>
</a>

<nav>
    <!-- 
    <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;dudochkin-victor.github.io&#x2F;showcases&#x2F;">Showcases</a>
    
    <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;dudochkin-victor.github.io&#x2F;changelog&#x2F;">Changelog</a>
    
    <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;dudochkin-victor.github.io&#x2F;about&#x2F;">About</a>
     -->

    
        
        <a class="nav-item subtitle-text" href="&#x2F;solana&#x2F;">Solana</a>
        
        <a class="nav-item subtitle-text" href="&#x2F;edgeware&#x2F;">Edgeware</a>
        
        <a class="nav-item subtitle-text" href="&#x2F;blog&#x2F;">–ë–ª–æ–≥</a>
        
        <a class="nav-item subtitle-text" href="https:&#x2F;&#x2F;github.com&#x2F;dudochkin-victor">Github</a>
        
    
</nav>

</header>

 
    <main>
        
        
        
        
        
        <div class="toc">
            <div class="toc-sticky">
                
                <div class="toc-item">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#vse-v-solane-uchetnaia-zapis">–í—Å–µ –≤ —Å–æ–ª–∞–Ω–µ - —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å</a>
                </div>
                
                
                <div class="toc-item">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#opredelenie-uchetnoi-zapisi-dlia-nashikh-tvitov">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –¥–ª—è –Ω–∞—à–∏—Ö —Ç–≤–∏—Ç–æ–≤</a>
                </div>
                
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#reshenie-a-1"><small>- –†–µ—à–µ–Ω–∏–µ –ê üëé</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#reshenie-b-1"><small>- –†–µ—à–µ–Ω–∏–µ –ë üëç</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#realizatsiia"><small>- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è</small></a>
                </div>
                
                
                
                <div class="toc-item">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#zachem-khranit-avtora">–ó–∞—á–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∞–≤—Ç–æ—Ä–∞?</a>
                </div>
                
                
                <div class="toc-item">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#stimul-khranit-men-she">–°—Ç–∏–º—É–ª —Ö—Ä–∞–Ω–∏—Ç—å –º–µ–Ω—å—à–µ</a>
                </div>
                
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#arenda"><small>- –ê—Ä–µ–Ω–¥–∞</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#bez-arendnoi-platy"><small>- –ë–µ–∑ –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã</small></a>
                </div>
                
                
                
                <div class="toc-item">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#razmer-nashego-akkaunta">–†–∞–∑–º–µ—Ä –Ω–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞</a>
                </div>
                
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#diskriminator"><small>- –î–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ç–æ—Ä</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#avtor"><small>- –ê–≤—Ç–æ—Ä</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#otmetka-vremeni"><small>- –û—Ç–º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#tema"><small>- –¢–µ–º–∞</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#soderzhanie"><small>- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#itogoovyi-razmer"><small>- –ò—Ç–æ–≥–æ–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä</small></a>
                </div>
                
                <div class="toc-item-child">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#okonchatel-nyi-kod"><small>- –û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥</small></a>
                </div>
                
                
                
                <div class="toc-item">
                    <a class="subtext" href="https://dudochkin-victor.github.io/solana/from-scratch/structuring-our-tweet-account/#vyvod">–í—ã–≤–æ–¥</a>
                </div>
                
                
            </div>
        </div>
        
        

        <div class="content text">
            
<h1>3. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ –¢–≤–∏—Ç—Ç–µ—Ä–µ</h1>

<p><a href="https://lorisleiva.com/create-a-solana-dapp-from-scratch/structuring-our-tweet-account">–ü–µ—Ä–µ–≤–æ–¥</a> | –ê–≤—Ç–æ—Ä –æ—Ä–∏–≥–∏–Ω–∞–ª–∞: Loris</p>
<p>–≠–ü–ò–ó–û–î 3</p>
<p>2 –ú–ï–°–Ø–¶–ê –ù–ê–ó–ê–î</p>
<p>12 –ú–ò–ù –ß–¢–ï–ù–ò–ï</p>
<p>–£—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —è–≤–ª—è—é—Ç—Å—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏ Solana. –í —ç—Ç–æ–º —ç–ø–∏–∑–æ–¥–µ –º—ã –æ–±—ä—è—Å–Ω–∏–º, —á—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ –∏ –∫–∞–∫ –∏—Ö –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ –Ω–∞—à–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö.</p>
<h2 id="vse-v-solane-uchetnaia-zapis">–í—Å–µ –≤ —Å–æ–ª–∞–Ω–µ - —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å</h2>
<p>–í –°–æ–ª–∞–Ω–µ <strong>–≤—Å–µ —è–≤–ª—è–µ—Ç—Å—è –∞–∫–∫–∞—É–Ω—Ç–æ–º</strong>.</p>
<p>–≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –¥—Ä—É–≥–∏—Ö –±–ª–æ–∫—á–µ–π–Ω–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã –∫–æ–≥–¥–∞-–ª–∏–±–æ —Å–æ–∑–¥–∞–≤–∞–ª–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤ Solidity, —Ç–æ –≤ –∏—Ç–æ–≥–µ –≤—ã –ø–æ–ª—É—á–∞–ª–∏ –∫—É—á—É –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∫—É—á—É –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–∏–º–∏. –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º, –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. –í –°–æ–ª–∞–Ω–µ —Ç–∞–∫–æ–≥–æ –Ω–µ—Ç.</p>
<p>–í Solana, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≥–¥–µ-—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, <strong>–≤—ã –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å</strong>. –í—ã –º–æ–∂–µ—Ç–µ –¥—É–º–∞—Ç—å –æ–± —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å—è—Ö –∫–∞–∫ –æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –æ–±–ª–∞–∫–∞—Ö –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –≤–∞—Å –≤ –±–ª–æ–∫—á–µ–π–Ω–µ. –£ –≤–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–∞ –±–æ–ª—å—à–∞—è —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –≤–∞–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∏–ª–∏ –º–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.</p>
<p>–ü—Ä–æ–≥—Ä–∞–º–º—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, –∏–∑–≤–ª–µ–∫–∞—Ç—å, –æ–±–Ω–æ–≤–ª—è—Ç—å –∏–ª–∏ —É–¥–∞–ª—è—Ç—å —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –Ω–æ –∏–º –Ω—É–∂–Ω—ã —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ.</p>
<p>–ù–æ –≤–æ—Ç –≥–¥–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ: <strong>–¥–∞–∂–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —è–≤–ª—è—é—Ç—Å—è —É—á–µ—Ç–Ω—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏</strong>.</p>
<p>–ü—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥, –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ ¬´–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ¬ª. –ë—É–∫–≤–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –µ—Å—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ¬´–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª¬ª, –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–∞–µ—Ç –Ω–∞–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–∞ —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –∏–ª–∏ –æ–±—ã—á–Ω–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ.</p>
<p>–¢–∞–∫ —á—Ç–æ –ø–æ–º–Ω–∏—Ç–µ, –≤—Å–µ —ç—Ç–æ —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ –°–æ–ª–∞–Ω–µ. –ü—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—à–µ–ª—å–∫–∏, NFT, —Ç–≤–∏—Ç—ã ‚Äî –≤—Å–µ —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –∏–∑ —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/accounts-1.png" alt="Simple diagram showing 3 accounts: a Tweet account, a User account and a Solana-Twitter executable account." /></p>
<h2 id="opredelenie-uchetnoi-zapisi-dlia-nashikh-tvitov">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –¥–ª—è –Ω–∞—à–∏—Ö —Ç–≤–∏—Ç–æ–≤</h2>
<p>–•–æ—Ä–æ—à–æ, –¥–∞–≤–∞–π—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏–º –Ω–∞—à—É –ø–µ—Ä–≤—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å. –ù–∞–º –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–≤–∏—Ç–æ–≤.</p>
<h3 id="reshenie-a-1">–†–µ—à–µ–Ω–∏–µ –ê üëé</h3>
<p>–ú—ã –º–æ–≥–ª–∏ –±—ã –∏–º–µ—Ç—å –æ–¥–Ω—É –±–æ–ª—å—à—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∫–æ–≥–¥–∞-–ª–∏–±–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–≤–∏—Ç–æ–≤, –Ω–æ —ç—Ç–æ –±—ã–ª–æ –±—ã –Ω–µ –æ—á–µ–Ω—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –Ω–∞—à–∏—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–≤–∏—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤—Å–µ–º.</p>
<p>–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∫—Ç–æ-—Ç–æ –¥–æ–ª–∂–µ–Ω –ø–ª–∞—Ç–∏—Ç—å –∑–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –±–ª–æ–∫—á–µ–π–Ω–µ. –ï—Å–ª–∏ –Ω–∞–º –ø—Ä–∏–¥–µ—Ç—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ç–≤–∏—Ç–∞, –º—ã –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ –±—É–¥–µ–º –ø–ª–∞—Ç–∏—Ç—å –∑–∞ –≤—Å–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ò —á–µ–º –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è, —Ç–µ–º –¥–æ—Ä–æ–∂–µ –æ–Ω–∞ –±—É–¥–µ—Ç.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweets-solution-a.png" alt="One &quot;Tweet Dictionary&quot; account with a fixed limit of tweets." /></p>
<h3 id="reshenie-b-1">–†–µ—à–µ–Ω–∏–µ –ë üëç</h3>
<p>–õ—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º –±—ã–ª–æ –±—ã —Ö—Ä–∞–Ω–∏—Ç—å <strong>–∫–∞–∂–¥—ã–π —Ç–≤–∏—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏</strong>. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –∏ –æ–ø–ª–∞—á–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É –∞–≤—Ç–æ—Ä–æ–º —Ç–≤–∏—Ç–∞. –ü–æ—Å–∫–æ–ª—å–∫—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–≤–∏—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏—à—å –Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç–∞, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –±—É–¥–µ—Ç –±–æ–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏ –±—É–¥–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–æ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–≤–∏—Ç–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –æ–∫—É–ø–∞–µ—Ç—Å—è –≤ –°–æ–ª–∞–Ω–µ.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweets-solution-b.png" alt="Multiple &quot;Tweet&quot; accounts with no limit." /></p>
<h3 id="realizatsiia">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</h3>
<p>–î–∞–≤–∞–π—Ç–µ —Ä–µ–∞–ª–∏–∑—É–µ–º —Ä–µ—à–µ–Ω–∏–µ B –≤ –Ω–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ Solana. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Ñ–∞–π–ª <code>lib.rs</code>, –≤ –Ω–µ–º –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º –≤—Å—é –Ω–∞—à—É –ø—Ä–æ–≥—Ä–∞–º–º—É. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–∫–∞ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞.</p>
<pre data-lang="rust" style="background-color:#0f1419;color:#bfbab0;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="font-style:italic;color:#5c6773;">// programs/solana-twitter/src/lib.rs
</span><span>
</span><span style="font-style:italic;color:#5c6773;">// ...
</span><span>
</span><span style="color:#bfbab0cc;">#</span><span>[</span><span style="color:#ffb454;">account</span><span>]
</span><span style="color:#ff7733;">pub struct </span><span style="color:#59c2ff;">Tweet </span><span>{
</span><span>    </span><span style="color:#ff7733;">pub </span><span>author</span><span style="color:#bfbab0cc;">:</span><span> Pubkey,
</span><span>    </span><span style="color:#ff7733;">pub </span><span>timestamp</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">i64</span><span>,
</span><span>    </span><span style="color:#ff7733;">pub </span><span>topic</span><span style="color:#bfbab0cc;">:</span><span> String,
</span><span>    </span><span style="color:#ff7733;">pub </span><span>content</span><span style="color:#bfbab0cc;">:</span><span> String,
</span><span>}
</span></code></pre>
<p>–í–æ—Ç –∏ –≤—Å–µ! –≠—Ç–∏ 7 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ ‚Äî –≤—Å–µ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Ç–≤–∏—Ç–∞. –¢–µ–ø–µ—Ä—å –≤—Ä–µ–º—è –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π.</p>
<ul>
<li><code>#[account]</code>. –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π <a href="https://doc.rust-lang.org/reference/attributes.html">–∞—Ç—Ä–∏–±—É—Ç Rust</a>, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π Anchor. –≠—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç –Ω–∞—Å –æ—Ç –æ–≥—Ä–æ–º–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —à–∞–±–ª–æ–Ω–æ–≤, –∫–æ–≥–¥–∞ –¥–µ–ª–æ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–º –∞–Ω–∞–ª–∏–∑–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –º–∞—Å—Å–∏–≤–µ –±–∞–π—Ç–æ–≤ –∏ –æ–±—Ä–∞—Ç–Ω–æ. –ë–ª–∞–≥–æ–¥–∞—Ä—è Anchor –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ, —Ç–∞–∫ —á—Ç–æ –¥–∞–≤–∞–π—Ç–µ –±—É–¥–µ–º –±–ª–∞–≥–æ–¥–∞—Ä–Ω—ã –∑–∞ —ç—Ç–æ.</li>
<li><code>pub struct Tweet</code>. –≠—Ç–æ <a href="https://doc.rust-lang.org/reference/items/structs.html">—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Rust</a>, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –Ω–∞—à–µ–≥–æ —Ç–≤–∏—Ç–∞. –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–∫–æ–º—ã —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ (–≤ Rust, C –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö), –≤—ã –º–æ–∂–µ—Ç–µ –¥—É–º–∞—Ç—å –æ –Ω–∏—Ö –∫–∞–∫ –æ –∫–ª–∞—Å—Å–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π—Å—Ç–≤–∞ (–±–µ–∑ –º–µ—Ç–æ–¥–æ–≤).</li>
<li><code>author</code>. –ú—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–≤—à–µ–≥–æ —Ç–≤–∏—Ç, —Å–æ—Ö—Ä–∞–Ω—è—è –µ–≥–æ –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á.</li>
<li><code>timestamp</code>. –ú—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ç–≤–∏—Ç–∞, —Å–æ—Ö—Ä–∞–Ω—è—è —Ç–µ–∫—É—â—É—é –º–µ—Ç–∫—É –≤—Ä–µ–º–µ–Ω–∏.</li>
<li><code>topic</code>. –ú—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ ¬´—Ç–µ–º–∞¬ª, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, —á—Ç–æ–±—ã –µ–≥–æ —Ç–≤–∏—Ç –º–æ–≥ –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —ç—Ç–æ–π —Ç–µ–º—ã. –¢–≤–∏—Ç—Ç–µ—Ä –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –ø–æ-–¥—Ä—É–≥–æ–º—É, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—è –≤—Å–µ —Ö—ç—à—Ç–µ–≥–∏ (#) –∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ç–≤–∏—Ç–∞, –Ω–æ —ç—Ç–æ –±—ã–ª–æ –±—ã –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ –°–æ–ª–∞–Ω–µ, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –º—ã –≤—ã–Ω–µ—Å–µ–º —ç—Ç–æ –≤ –¥—Ä—É–≥–æ–µ –ø–æ–ª–µ.</li>
<li><code>content</code>. –ù–∞–∫–æ–Ω–µ—Ü, –º—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–≤–∏—Ç–∞.</li>
</ul>
<h2 id="zachem-khranit-avtora">–ó–∞—á–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∞–≤—Ç–æ—Ä–∞?</h2>
<p>–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥—É–º–∞—Ç—å, —á—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ Solana –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –µ–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞, –∏ –≤—ã –±—É–¥–µ—Ç–µ –ø—Ä–∞–≤—ã! –¢–∞–∫ –∑–∞—á–µ–º –∂–µ –Ω—É–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∞ —Ç–≤–∏—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –¥–∞–Ω–Ω—ã—Ö —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏?</p>
<p>–≠—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ <strong>–≤–ª–∞–¥–µ–ª—å—Ü–µ–º –∞–∫–∫–∞—É–Ω—Ç–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞, —Å–æ–∑–¥–∞–≤—à–∞—è –µ–≥–æ</strong>.</p>
<p>–ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –±—ã –º—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á –∞–≤—Ç–æ—Ä–∞, —Å–æ–∑–¥–∞–≤—à–µ–≥–æ —Ç–≤–∏—Ç, —É –Ω–∞—Å –Ω–µ –±—ã–ª–æ –±—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∞–≤—Ç–æ—Ä–∞ –ø–æ–∑–∂–µ, –∏, —á—Ç–æ –µ—â–µ —Ö—É–∂–µ, —É –Ω–∞—Å –Ω–µ –±—ã–ª–æ –±—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —ç—Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚Äî –∏ —ç—Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ç–æ–ª—å–∫–æ ‚Äî –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π, –∫–∞–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–≤–∏—Ç–æ–≤.</p>
<p>–í–æ—Ç –Ω–µ–±–æ–ª—å—à–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∞—è, –∫–∞–∫ –≤—Å–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –±—É–¥—É—Ç —Å–≤—è–∑–∞–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/accounts-2.png" alt="Diagram showing that: the &quot;System Program&quot; executable account owns our &quot;Solana-Twitter&quot; executable account which itself owns 3 &quot;Tweet&quot; accounts. Each of these accounts stores the public key of a &quot;User&quot; account which are owned by the &quot;System Program&quot; as well." /></p>
<p>–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –¥–∞–∂–µ –Ω–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ &quot;solana-twitter&quot; –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥—Ä—É–≥–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π Solana. –≠—Ç–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º–∞—è —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å —Ç–∞–∫–∂–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–∞–∂–¥–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –°–∏—Å—Ç–µ–º–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥–∫–æ–º –≤—Å–µ—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π Solana.</p>
<h2 id="stimul-khranit-men-she">–°—Ç–∏–º—É–ª —Ö—Ä–∞–Ω–∏—Ç—å –º–µ–Ω—å—à–µ</h2>
<p>–•–æ—Ä–æ—à–æ, —Ç–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –∑–Ω–∞–µ–º, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º —Ö—Ä–∞–Ω–∏—Ç—å –≤ –Ω–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ ¬´Tweet¬ª, –Ω–∞–º –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –Ω–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –±–∞–π—Ç–∞—Ö. –ù–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–º–µ—Ä –≤ —Å–ª–µ–¥—É—é—â–µ–º —ç–ø–∏–∑–æ–¥–µ, –∫–æ–≥–¥–∞ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –Ω–∞—à—É –ø–µ—Ä–≤—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–≤–∏—Ç—ã –≤ –±–ª–æ–∫—á–µ–π–Ω.</p>
<p>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –ú—ã –º–æ–≥–ª–∏ –±—ã –ø—Ä–æ—Å—Ç–æ —Å–∫–∞–∑–∞—Ç—å –°–æ–ª–∞–Ω–µ, —á—Ç–æ —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —Ä–∞–∑–º–µ—Ä –Ω–∞—à–∏—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –≤ –¢–≤–∏—Ç—Ç–µ—Ä–µ –±—ã–ª, —Å–∫–∞–∂–µ–º, 4000 –±–∞–π—Ç (4 –ö–ë). –≠—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ–≥–æ –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –¢–∞–∫ –ø–æ—á–µ–º—É –±—ã –∏ –Ω–µ—Ç? –ü–æ—Ç–æ–º—É —á—Ç–æ –°–æ–ª–∞–Ω–∞ –¥–∞–µ—Ç –Ω–∞–º —Å—Ç–∏–º—É–ª –Ω–µ –¥–µ–ª–∞—Ç—å —ç—Ç–æ–≥–æ.</p>
<h3 id="arenda">–ê—Ä–µ–Ω–¥–∞</h3>
<p><a href="https://docs.solana.com/implemented-proposals/rent">–ê—Ä–µ–Ω–¥–∞</a> ‚Äî –≤–∞–∂–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –≤ Solana, –∫–æ—Ç–æ—Ä–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π, –∫—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–ª–æ–∫—á–µ–π–Ω, –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –æ–±—ä–µ–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.</p>
<p>–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–æ—Å—Ç–∞:</p>
<ul>
<li>–ö–æ–≥–¥–∞ –∞–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω, –∫—Ç–æ-—Ç–æ –¥–æ–ª–∂–µ–Ω –ø–æ–ª–æ–∂–∏—Ç—å –Ω–∞ –Ω–µ–≥–æ –¥–µ–Ω—å–≥–∏.</li>
<li>–í—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –±–ª–æ–∫—á–µ–π–Ω —Å–æ–±–∏—Ä–∞–µ—Ç —á–∞—Å—Ç—å —ç—Ç–∏—Ö –¥–µ–Ω–µ–≥ –≤ –∫–∞—á–µ—Å—Ç–≤–µ ¬´–∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã¬ª. –≠—Ç–∞ —Ä–µ–Ω—Ç–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Ä–∞–∑–º–µ—Ä—É —Å—á–µ—Ç–∞.</li>
<li>–ö–æ–≥–¥–∞ –Ω–∞ —Å—á–µ—Ç—É –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –¥–µ–Ω—å–≥–∏, –∞–∫–∫–∞—É–Ω—Ç —É–¥–∞–ª—è–µ—Ç—Å—è, –∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è!</li>
</ul>
<p>–í–∞—É, —á–µ–≥–æ –∂–¥–∞—Ç—å?!</p>
<p>–î–∞, –µ—Å–ª–∏ –≤–∞—à–∞ —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–µ —Å–º–æ–∂–µ—Ç –æ–ø–ª–∞—Ç–∏—Ç—å –∞—Ä–µ–Ω–¥—É –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Å–±–æ—Ä–µ, –æ–Ω–∞ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞. –ù–æ –Ω–µ –ø–∞–Ω–∏–∫—É–π—Ç–µ, —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –Ω–∞–º —Å—É–∂–¥–µ–Ω–æ –ø–ª–∞—Ç–∏—Ç—å –∞—Ä–µ–Ω–¥–Ω—É—é –ø–ª–∞—Ç—É –∑–∞ –≤—Å–µ –Ω–∞—à–∏ —Ç–≤–∏—Ç—ã –¥–æ –∫–æ–Ω—Ü–∞ –Ω–∞—à–∏—Ö –¥–Ω–µ–π. –ö —Å—á–∞—Å—Ç—å—é, –µ—Å—Ç—å —Å–ø–æ—Å–æ–± –æ—Å–≤–æ–±–æ–¥–∏—Ç—å—Å—è –æ—Ç –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã.</p>
<h3 id="bez-arendnoi-platy">–ë–µ–∑ –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã</h3>
<p>–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤—Å–µ —Å–æ–∑–¥–∞—é—Ç —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–Ω—ã–µ –æ—Ç –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∞—Ä–µ–Ω–¥–Ω–∞—è –ø–ª–∞—Ç–∞ –Ω–µ –±—É–¥–µ—Ç –≤–∑–∏–º–∞—Ç—å—Å—è, –∏ —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–µ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞. –í—Å–µ–≥–¥–∞.</p>
<p>–¢–∞–∫ –∫–∞–∫ –∂–µ —Å–æ–∑–¥–∞—Ç—å —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –±–µ–∑ –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã? –í—Å–µ –ø—Ä–æ—Å—Ç–æ: –≤–∞–º –Ω—É–∂–Ω–æ <strong>–¥–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Å—á–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥, —á—Ç–æ–±—ã –∑–∞–ø–ª–∞—Ç–∏—Ç—å —Å—É–º–º—É, —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—É—é –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç–µ –∑–∞ –¥–≤–∞ –≥–æ–¥–∞</strong>.</p>
<p>–ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã —ç—Ç–æ —Å–¥–µ–ª–∞–µ—Ç–µ, –¥–µ–Ω—å–≥–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–∞ —Å—á–µ—Ç–µ –Ω–∞–≤—Å–µ–≥–¥–∞ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã. –ï—â–µ –ª—É—á—à–µ, –µ—Å–ª–∏ –≤—ã —Ä–µ—à–∏—Ç–µ –∑–∞–∫—Ä—ã—Ç—å —Å—á–µ—Ç –≤ –±—É–¥—É—â–µ–º, <strong>–≤—ã –ø–æ–ª—É—á–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–Ω—ã–µ –æ—Ç –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã –¥–µ–Ω—å–≥–∏</strong>!</p>
<p>Solana –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã Rust, JavaScript –∏ CLI, —á—Ç–æ–±—ã –≤—ã—è—Å–Ω–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞ —Å—á–µ—Ç, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω –æ—Ç –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ –≤ —Å–≤–æ–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–Ω—ã–π –æ—Ç –∞—Ä–µ–Ω–¥–Ω–æ–π –ø–ª–∞—Ç—ã –º–∏–Ω–∏–º—É–º –¥–ª—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ 4 –ö–ë.</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="font-style:italic;color:#5c6773;"># Ensure your local ledger is running for this to work.
</span><span style="color:#ffb454;">solana</span><span> rent 4000
</span><span>
</span><span style="font-style:italic;color:#5c6773;"># Outputs:
</span><span style="font-style:italic;color:#5c6773;"># Rent per byte-year: 0.00000348 SOL
</span><span style="font-style:italic;color:#5c6773;"># Rent per epoch: 0.000078662 SOL
</span><span style="font-style:italic;color:#5c6773;"># Rent-exempt minimum: 0.02873088 SOL
</span></code></pre>
<p>–ü—Ä–∏ —ç—Ç–æ–º –Ω–∞–º –Ω–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –≤ –Ω–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ, —Ç–∞–∫ –∫–∞–∫ Anchor –ø–æ–∑–∞–±–æ—Ç–∏—Ç—Å—è –æ–±–æ –≤—Å–µ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –∑–∞ –Ω–∞—Å. –í—Å–µ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ, —ç—Ç–æ –≤—ã—è—Å–Ω–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –Ω–∞–º –Ω—É–∂–Ω–æ –¥–ª—è –Ω–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, —Ç–∞–∫ —á—Ç–æ –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ —Å–µ–π—á–∞—Å.</p>
<h2 id="razmer-nashego-akkaunta">–†–∞–∑–º–µ—Ä –Ω–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞</h2>
<p>–†–∞–Ω–µ–µ –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –Ω–∞—à—É —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å Tweet —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏:</p>
<ul>
<li><code>author</code> —Ç–∏–ø–∞ <code>PubKey</code>.</li>
<li><code>timestamp</code> —Ç–∏–ø–∞ <code>i64</code>.</li>
<li><code>topic</code> —Ç–∏–ø–∞ <code>String</code>.</li>
<li><code>content</code> —Ç–∏–ø–∞ <code>String</code>.</li>
</ul>
<p>–ü–æ—ç—Ç–æ–º—É, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–∑–º–µ—Ä –Ω–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏, –Ω–∞–º –Ω—É–∂–Ω–æ –≤—ã—è—Å–Ω–∏—Ç—å, <strong>—Å–∫–æ–ª—å–∫–æ –±–∞–π—Ç–æ–≤</strong> —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —ç—Ç–∏—Ö —Å–≤–æ–π—Å—Ç–≤, –∏ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —ç—Ç–æ.</p>
<p>–ù–æ —Å–Ω–∞—á–∞–ª–∞ –µ—Å—Ç—å –∫–æ–µ-—á—Ç–æ, —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å.</p>
<h3 id="diskriminator">–î–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ç–æ—Ä</h3>
<p>–í—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å, –≤ —Å–∞–º–æ–µ –Ω–∞—á–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è <strong>–¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ç–æ—Ä –¥–ª–∏–Ω–æ–π —Ä–æ–≤–Ω–æ 8 –±–∞–π—Ç–æ–≤</strong>.</p>
<p>–≠—Ç–æ—Ç –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ç–æ—Ä —Ö—Ä–∞–Ω–∏—Ç —Ç–∏–ø —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –µ—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π ‚Äî —Å–∫–∞–∂–µ–º, —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å Tweet –∏ —É—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å UserProfile ‚Äî —Ç–æ–≥–¥–∞ –Ω–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å –∏—Ö.</p>
<p>–•–æ—Ä–æ—à–æ, –¥–∞–≤–∞–π—Ç–µ –æ—Ç—Å–ª–µ–¥–∏–º —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –Ω–∞—à–µ–º –∫–æ–¥–µ, –¥–æ–±–∞–≤–∏–≤ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ <code>lib.rs</code>.</p>
<pre data-lang="rust" style="background-color:#0f1419;color:#bfbab0;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#ff7733;">const </span><span style="color:#f29718;">DISCRIMINATOR_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">8</span><span style="color:#bfbab0cc;">;
</span></code></pre>
<p>–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –µ—Å–ª–∏ –≤—ã –≤–∏–∑—É–∞–ª, –∫–∞–∫ –∏ —è, –≤–æ—Ç –Ω–µ–±–æ–ª—å—à–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –∫–æ—Ç–æ—Ä–æ–µ –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –¥–æ —Å–∏—Ö –ø–æ—Ä, –≥–¥–µ –∫–∞–∂–¥–∞—è —è—á–µ–π–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –±–∞–π—Ç.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweet-account-size-1.jpg" alt="A big table where each cell is a byte. The first 8 cells are highlighted and marked as &quot;discriminator&quot;." /></p>
<h3 id="avtor">–ê–≤—Ç–æ—Ä</h3>
<p>–•–æ—Ä–æ—à–æ, —Ç–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –Ω–∞—à–∏–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Å–≤–æ–π—Å—Ç–≤–∞–º, –∑–∞—è–≤–ª—è—è —Å –ø–æ–º–æ—â—å—é –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –∫–ª—é—á–∞ –∞–≤—Ç–æ—Ä–∞.</p>
<p>–ö–∞–∫ —É–∑–Ω–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Ç–∏–ø–∞ <code>PubKey</code>? –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ IDE, —Ç–∞–∫—É—é –∫–∞–∫ <a href="https://lorisleiva.com/create-a-solana-dapp-from-scratch/TODO">CLion</a>, –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∂–∞—Ç—å, —É–¥–µ—Ä–∂–∏–≤–∞—è –Ω–∞–∂–∞—Ç–æ–π –∫–ª–∞–≤–∏—à—É Control, —Ç–∏–ø PubKey, –∏ –æ–Ω –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤–∞—Å –∫ –µ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é. –í–æ—Ç —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å.</p>
<pre data-lang="rust" style="background-color:#0f1419;color:#bfbab0;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#ff7733;">pub struct </span><span style="color:#59c2ff;">Pubkey</span><span>([</span><span style="color:#ff7733;">u8</span><span>; 32])</span><span style="color:#bfbab0cc;">;
</span></code></pre>
<p>–≠—Ç–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –≤—ã–≥–ª—è–¥—è—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞—Å—Å–∏–≤. –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ, –∞ –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ ‚Äî –≤–æ –≤—Ç–æ—Ä–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —ç—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞—Å—Å–∏–≤ –∏–∑ 32 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ <code>u8</code>. –¢–∏–ø <code>u8</code> –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –±–µ–∑ –∑–Ω–∞–∫–∞ –∏–∑ 8 –±–∏—Ç. –ü–æ—Å–∫–æ–ª—å–∫—É –≤ –æ–¥–Ω–æ–º –±–∞–π—Ç–µ 8 –±–∏—Ç, –º—ã –ø–æ–ª—É—á–∞–µ–º –æ–±—â—É—é –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞ <strong>32 –±–∞–π—Ç–∞</strong>.</p>
<p>–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–∞ ¬´–∞–≤—Ç–æ—Ä¬ª –∏–ª–∏ –ª—é–±–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –∫–ª—é—á–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –≤—Å–µ–≥–æ 32 –±–∞–π—Ç–∞. –î–∞–≤–∞–π—Ç–µ —Ç–∞–∫–∂–µ –±—É–¥–µ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–µ.</p>
<pre data-lang="rust" style="background-color:#0f1419;color:#bfbab0;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#ff7733;">const </span><span style="color:#f29718;">PUBLIC_KEY_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">32</span><span style="color:#bfbab0cc;">;
</span></code></pre>
<p>–ê –≤–æ—Ç –∏ –Ω–∞—à–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweet-account-size-2.jpg" alt="Same table as before with an additional 32 cells highlighted and marked as &quot;author&quot;." /></p>
<h3 id="otmetka-vremeni">–û—Ç–º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏</h3>
<p>–°–≤–æ–π—Å—Ç–≤–æ timestamp –∏–º–µ–µ—Ç —Ç–∏–ø i64. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –∏–∑ 64 –±–∏—Ç –∏–ª–∏ <strong>8 –±–∞–π—Ç–æ–≤</strong>.</p>
<p>–î–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –Ω–∞—à–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –ø–µ—Ä–µ–π–¥–µ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–≤–æ–π—Å—Ç–≤—É.</p>
<pre data-lang="rust" style="background-color:#0f1419;color:#bfbab0;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#ff7733;">const </span><span style="color:#f29718;">TIMESTAMP_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">8</span><span style="color:#bfbab0cc;">;
</span></code></pre>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweet-account-size-3.jpg" alt="Same table as before with an additional 8 cells highlighted and marked as &quot;timestamp&quot;." /></p>
<h3 id="tema">–¢–µ–º–∞</h3>
<p>–°–≤–æ–π—Å—Ç–≤–æ —Ç–µ–º—ã –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ. –ï—Å–ª–∏ –≤—ã —â–µ–ª–∫–Ω–µ—Ç–µ, —É–¥–µ—Ä–∂–∏–≤–∞—è –∫–ª–∞–≤–∏—à—É Control, –Ω–∞ —Ç–∏–ø–µ String, –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ.</p>
<pre data-lang="rust" style="background-color:#0f1419;color:#bfbab0;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#ff7733;">pub struct </span><span style="color:#59c2ff;">String </span><span>{
</span><span>    vec</span><span style="color:#bfbab0cc;">: </span><span style="font-style:italic;color:#39bae6;">Vec</span><span>&lt;</span><span style="color:#ff7733;">u8</span><span>&gt;,
</span><span>}
</span></code></pre>
<p>–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–µ–∫—Ç–æ—Ä (<code>vec</code>), —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–º 1 –±–∞–π—Ç (<code>u8</code>). –í–µ–∫—Ç–æ—Ä –ø–æ–¥–æ–±–µ–Ω –º–∞—Å—Å–∏–≤—É, –æ–±—â–∞—è –¥–ª–∏–Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞. –ú—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü –≤–µ–∫—Ç–æ—Ä–∞, –µ—Å–ª–∏ —É –Ω–∞—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏ –¥–ª—è –Ω–µ–≥–æ.</p>
<p>–≠—Ç–æ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –Ω–æ –∫–∞–∫ –º—ã –≤—ã—á–∏—Å–ª–∏–º —Ä–∞–∑–º–µ—Ä –µ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π?</p>
<p>–ß—Ç–æ –∂, —ç—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –≤ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ. –ù–∞–º –Ω—É–∂–Ω–æ —è–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º —Ö—Ä–∞–Ω–∏—Ç—å –∏ –∫–∞–∫–æ–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è.</p>
<p>–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –º—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–º—É. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å: ¬´solana¬ª, ¬´laravel¬ª, ¬´accessibility¬ª –∏ —Ç. –¥.</p>
<p>–ò—Ç–∞–∫, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–∏–º–µ–º —Ä–µ—à–µ–Ω–∏–µ, —á—Ç–æ —Ç–µ–º–∞ –±—É–¥–µ—Ç –∏–º–µ—Ç—å <strong>–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä 50 —Å–∏–º–≤–æ–ª–æ–≤</strong>. –≠—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ç–µ–º.</p>
<p>–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –≤—ã—è—Å–Ω–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ –±–∞–π—Ç —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞.</p>
<p>–û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–¥–∏—Ä–æ–≤–∫—É UTF-8, <a href="https://www.ibm.com/docs/en/db2-for-zos/12?topic=unicode-utfs">—Å–∏–º–≤–æ–ª –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –æ—Ç 1 –¥–æ 4 –±–∞–π—Ç</a> . –ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞–º –Ω—É–∂–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Ç–µ–º–µ, –º—ã –¥–æ–ª–∂–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–º–µ—Ä –Ω–∞—à–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –≤ 4 –±–∞–π—Ç–∞ –∫–∞–∂–¥—ã–π.</p>
<p>–ò—Ç–∞–∫, –º—ã –≤—ã—è—Å–Ω–∏–ª–∏, —á—Ç–æ –Ω–∞—à–µ —Å–≤–æ–π—Å—Ç–≤–æ —Ç–µ–º—ã –¥–æ–ª–∂–Ω–æ –∑–∞–Ω–∏–º–∞—Ç—å –Ω–µ –±–æ–ª–µ–µ 50 x 4 = <strong>200 –±–∞–π—Ç</strong>.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweet-account-size-4.jpg" alt="Same table as before with an additional 200 cells highlighted and marked as &quot;topic&quot;." /></p>
<p>–í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —ç—Ç–æ—Ç —Ä–∞–∑–º–µ—Ä —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å—Ç–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω—ã–º, –ø–æ—Å–∫–æ–ª—å–∫—É —É –≤–µ–∫—Ç–æ—Ä–æ–≤ –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ–∫–∞ –º—ã –≤—ã–¥–µ–ª—è–µ–º 200 –±–∞–π—Ç, –¥–ª—è –≤–≤–æ–¥–∞ ¬´solana¬ª –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ–º—ã –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—Å–µ–≥–æ 6 x 4 = 24 –±–∞–π—Ç–∞.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweet-account-size-5.jpg" alt="Same table as before but with 24 bytes highlighted as the topic and the rest being marked as &quot;unused storage&quot;." /></p>
<p>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å–∏–º–≤–æ–ª—ã –≤ ¬´solana¬ª –Ω–µ —Ç—Ä–µ–±—É—é—Ç 4 –±–∞–π—Ç–∞, –Ω–æ —è –ø—Ä–∏—Ç–≤–æ—Ä—è—é—Å—å –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã.</p>
<p>–ú—ã –ø–æ—á—Ç–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏ —Å –Ω–∞—à–∏–º —Å–≤–æ–π—Å—Ç–≤–æ–º —Ç–µ–º—ã, –Ω–æ –æ—Å—Ç–∞–ª–æ—Å—å –ø–æ–¥—É–º–∞—Ç—å –æ–± –æ–¥–Ω–æ–º, –∫–æ–≥–¥–∞ —Ä–µ—á—å –∑–∞—Ö–æ–¥–∏—Ç –æ —Ç–∏–ø–µ String –∏–ª–∏ –≤–µ–∫—Ç–æ—Ä–∞—Ö –≤ —Ü–µ–ª–æ–º.</p>
<p>–ü–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –Ω–∞—à–µ–π —Å—Ç—Ä–æ–∫–∏ –±—É–¥–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å <strong>4 –±–∞–π—Ç–∞</strong>, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ü–µ–ª—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ —è–≤–ª—è–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –µ–µ –æ–±—â–µ–π –¥–ª–∏–Ω—ã. –ù–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å, –∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweet-account-size-6.jpg" alt="Our usual byte table but with an additional 4 bytes marked as &quot;vec prefix&quot; added before the 200 bytes marked as &quot;topic&quot;." /></p>
<p>–≠—Ç–æ—Ç –ø—Ä–µ—Ñ–∏–∫—Å –≤–∞–∂–µ–Ω, —á—Ç–æ–±—ã –∑–Ω–∞—Ç—å, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ —Å–≤–æ–π—Å—Ç–≤–æ –≤ –º–∞—Å—Å–∏–≤–µ –±–∞–π—Ç–æ–≤. –ü–æ—Å–∫–æ–ª—å–∫—É —É –≤–µ–∫—Ç–æ—Ä–æ–≤ –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –±–µ–∑ —ç—Ç–æ–≥–æ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –º—ã –±—ã –Ω–µ –∑–Ω–∞–ª–∏, –≥–¥–µ –æ–Ω –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.<img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweet-account-size-7.jpg" alt="Same table as before but with 24 bytes instead of 200 bytes in the topic section. An arrow starting from the &quot;vec prefix&quot; section points to the end of the 24 bytes to illustrate that the vector prefix lets us know where the next property starts." /></p>
<p>–§—É! –•–æ—Ä–æ—à–æ, —Ç–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –∑–Ω–∞–µ–º, –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Å–≤–æ–π—Å—Ç–≤ String, –¥–∞–≤–∞–π—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–µ —Å—É–º–º–∏—Ä—É—é—Ç –Ω–∞—à–∏ –≤—ã–≤–æ–¥—ã.</p>
<pre data-lang="rust" style="background-color:#0f1419;color:#bfbab0;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#ff7733;">const </span><span style="color:#f29718;">STRING_LENGTH_PREFIX</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">4</span><span style="color:#bfbab0cc;">; </span><span style="font-style:italic;color:#5c6773;">// Stores the size of the string.
</span><span style="color:#ff7733;">const </span><span style="color:#f29718;">MAX_TOPIC_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">50 </span><span style="color:#f29668;">* </span><span style="color:#f29718;">4</span><span style="color:#bfbab0cc;">; </span><span style="font-style:italic;color:#5c6773;">// 50 chars max.
</span></code></pre>
<h3 id="soderzhanie">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h3>
<p>–ú—ã —É–∂–µ –ø—Ä–æ–¥–µ–ª–∞–ª–∏ –≤—Å—é —Ç—è–∂–µ–ª—É—é —Ä–∞–±–æ—Ç—É, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä —Å–≤–æ–π—Å—Ç–≤ String, —Ç–∞–∫ —á—Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ.</p>
<p>–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–µ–º—ã, —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤. –ó–¥–µ—Å—å –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–∞—à–∏—Ö —Ç–≤–∏—Ç–æ–≤ –±—ã–ª–æ <strong>–º–∞–∫—Å–∏–º—É–º 280 —Å–∏–º–≤–æ–ª–æ–≤</strong>, —á—Ç–æ –¥–∞–µ—Ç –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ 4 + 280 * 4 = <strong>1124 –±–∞–π—Ç–∞</strong>.</p>
<p><img src="https://lorisleiva.com/assets/articles/2021/1119-solana-3-define-account/tweet-account-size-8.jpg" alt="Our usual byte table but with an additional 4 bytes marked as &quot;vec prefix&quot; followed by 1120 bytes marked as &quot;content&quot;. Not all rows inside the &quot;content&quot; sections are shown otherwise it would be a very big table." /></p>
<p>–ö–∞–∫ –æ–±—ã—á–Ω–æ, –¥–æ–±–∞–≤–∏–º –¥–ª—è —ç—Ç–æ–≥–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É.</p>
<pre data-lang="rust" style="background-color:#0f1419;color:#bfbab0;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#ff7733;">const </span><span style="color:#f29718;">MAX_CONTENT_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">280 </span><span style="color:#f29668;">* </span><span style="color:#f29718;">4</span><span style="color:#bfbab0cc;">; </span><span style="font-style:italic;color:#5c6773;">// 280 chars max.
</span></code></pre>
<h3 id="itogoovyi-razmer">–ò—Ç–æ–≥–æ–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä</h3>
<p>–û—Ü–µ–Ω–∫–∞ —Å–≤–æ–π—Å—Ç–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–æ–π –¥–ª—è Solana, –ø–æ—ç—Ç–æ–º—É –≤–æ—Ç –Ω–µ–±–æ–ª—å—à–∞—è —Å–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞, –∫ –∫–æ—Ç–æ—Ä–æ–π –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ —Å–≤–æ–∏—Ö —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π.</p>
<p>–ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –∑–∞—Ö–æ—á–µ—Ç —á—Ç–æ-—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫–æ –º–Ω–µ, –∏ —è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –±—É–¥—É –æ–±–Ω–æ–≤–ª—è—Ç—å –µ–µ.</p>
<table><thead><tr><th>Type</th><th>Size</th><th>Explanation</th></tr></thead><tbody>
<tr><td><code>bool</code></td><td>1 byte</td><td>1 bit rounded up to 1 byte.</td></tr>
<tr><td><code>u8</code> or <code>i8</code></td><td>1 byte</td><td></td></tr>
<tr><td><code>u16</code> or <code>i16</code></td><td>2 bytes</td><td></td></tr>
<tr><td><code>u32</code> or <code>i32</code></td><td>4 bytes</td><td></td></tr>
<tr><td><code>u64</code> or <code>i64</code></td><td>8 bytes</td><td></td></tr>
<tr><td><code>u128</code> or <code>i128</code></td><td>16 bytes</td><td></td></tr>
<tr><td><code>[u16; 32]</code></td><td>64 bytes</td><td>32 items x 2 bytes. <code>[itemSize; arrayLength]</code></td></tr>
<tr><td><code>PubKey</code></td><td>32 bytes</td><td>Same as <code>[u8; 32]</code></td></tr>
<tr><td><code>vec&lt;u16&gt;</code></td><td>Any multiple of 2 bytes + 4 bytes for the prefix</td><td>Need to allocate the maximum amount of item that could be required.</td></tr>
<tr><td><code>String</code></td><td>Any multiple of 1 byte + 4 bytes for the prefix</td><td>Same as <code>vec&lt;u8&gt;</code></td></tr>
</tbody></table>
<h3 id="okonchatel-nyi-kod">–û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥</h3>
<p>–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –≤–µ—Å—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –≤ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ, –∏ –æ–±—ä–µ–¥–∏–Ω–∏–º –Ω–∞—à–∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –æ–¥–Ω—É, –∫–æ—Ç–æ—Ä–∞—è –¥–∞—Å—Ç –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –Ω–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ Tweet.</p>
<pre data-lang="rust" style="background-color:#0f1419;color:#bfbab0;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="font-style:italic;color:#5c6773;">// 1. Define the structure of the Tweet account.
</span><span style="color:#bfbab0cc;">#</span><span>[</span><span style="color:#ffb454;">account</span><span>]
</span><span style="color:#ff7733;">pub struct </span><span style="color:#59c2ff;">Tweet </span><span>{
</span><span>    </span><span style="color:#ff7733;">pub </span><span>author</span><span style="color:#bfbab0cc;">:</span><span> Pubkey,
</span><span>    </span><span style="color:#ff7733;">pub </span><span>timestamp</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">i64</span><span>,
</span><span>    </span><span style="color:#ff7733;">pub </span><span>topic</span><span style="color:#bfbab0cc;">:</span><span> String,
</span><span>    </span><span style="color:#ff7733;">pub </span><span>content</span><span style="color:#bfbab0cc;">:</span><span> String,
</span><span>}
</span><span>
</span><span style="font-style:italic;color:#5c6773;">// 2. Add some useful constants for sizing propeties.
</span><span style="color:#ff7733;">const </span><span style="color:#f29718;">DISCRIMINATOR_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">8</span><span style="color:#bfbab0cc;">;
</span><span style="color:#ff7733;">const </span><span style="color:#f29718;">PUBLIC_KEY_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">32</span><span style="color:#bfbab0cc;">;
</span><span style="color:#ff7733;">const </span><span style="color:#f29718;">TIMESTAMP_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">8</span><span style="color:#bfbab0cc;">;
</span><span style="color:#ff7733;">const </span><span style="color:#f29718;">STRING_LENGTH_PREFIX</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">4</span><span style="color:#bfbab0cc;">; </span><span style="font-style:italic;color:#5c6773;">// Stores the size of the string.
</span><span style="color:#ff7733;">const </span><span style="color:#f29718;">MAX_TOPIC_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">50 </span><span style="color:#f29668;">* </span><span style="color:#f29718;">4</span><span style="color:#bfbab0cc;">; </span><span style="font-style:italic;color:#5c6773;">// 50 chars max.
</span><span style="color:#ff7733;">const </span><span style="color:#f29718;">MAX_CONTENT_LENGTH</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">280 </span><span style="color:#f29668;">* </span><span style="color:#f29718;">4</span><span style="color:#bfbab0cc;">; </span><span style="font-style:italic;color:#5c6773;">// 280 chars max.
</span><span>
</span><span style="font-style:italic;color:#5c6773;">// 3. Add a constant on the Tweet account that provides its total size.
</span><span style="color:#ff7733;">impl </span><span style="color:#59c2ff;">Tweet </span><span>{
</span><span>    </span><span style="color:#ff7733;">const </span><span style="color:#f29718;">LEN</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">usize </span><span style="color:#f29668;">= </span><span style="color:#f29718;">DISCRIMINATOR_LENGTH
</span><span>        </span><span style="color:#f29668;">+ </span><span style="color:#f29718;">PUBLIC_KEY_LENGTH </span><span style="font-style:italic;color:#5c6773;">// Author.
</span><span>        </span><span style="color:#f29668;">+ </span><span style="color:#f29718;">TIMESTAMP_LENGTH </span><span style="font-style:italic;color:#5c6773;">// Timestamp.
</span><span>        </span><span style="color:#f29668;">+ </span><span style="color:#f29718;">STRING_LENGTH_PREFIX </span><span style="color:#f29668;">+ </span><span style="color:#f29718;">MAX_TOPIC_LENGTH </span><span style="font-style:italic;color:#5c6773;">// Topic.
</span><span>        </span><span style="color:#f29668;">+ </span><span style="color:#f29718;">STRING_LENGTH_PREFIX </span><span style="color:#f29668;">+ </span><span style="color:#f29718;">MAX_CONTENT_LENGTH</span><span style="color:#bfbab0cc;">; </span><span style="font-style:italic;color:#5c6773;">// Content.
</span><span>}
</span></code></pre>
<p>–¢—Ä–µ—Ç–∏–π —Ä–∞–∑–¥–µ–ª —ç—Ç–æ–≥–æ –∫–æ–¥–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç <a href="https://doc.rust-lang.org/book/ch05-03-method-syntax.html">–±–ª–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a> –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ <code>Tweet</code>. –í Rust –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –º—ã –º–æ–∂–µ–º –ø—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å –º–µ—Ç–æ–¥—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –¥–µ–ª–∞—Ç—å –∏—Ö –±–æ–ª–µ–µ –ø–æ—Ö–æ–∂–∏–º–∏ –Ω–∞ –∫–ª–∞—Å—Å—ã.</p>
<p>–í —ç—Ç–æ–º –±–ª–æ–∫–µ impl –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É LEN, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ —Å—É–º–º–∏—Ä—É–µ—Ç –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —ç—Ç–æ–≥–æ —ç–ø–∏–∑–æ–¥–∞. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–ª–∏–Ω–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ Tweet –≤ –±–∞–π—Ç–∞—Ö, –∑–∞–ø—É—Å—Ç–∏–≤ <code>Tweet::LEN</code>.</p>
<p>–ò –º—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏ —Å —ç—Ç–∏–º —ç–ø–∏–∑–æ–¥–æ–º!</p>
<h2 id="vyvod">–í—ã–≤–æ–¥</h2>
<p>–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –Ω–µ —Ç–∞–∫ –º–Ω–æ–≥–æ –∫–æ–¥–∞, –º—ã —É–≤–∏–¥–µ–ª–∏, –ø–æ—á–µ–º—É –∏ –∫–∞–∫ –°–æ–ª–∞–Ω–∞ –ø–æ–±—É–∂–¥–∞–µ—Ç –Ω–∞—Å –¥–≤–∞–∂–¥—ã –ø–æ–¥—É–º–∞—Ç—å –æ —Ç–æ–º, –∫–∞–∫–æ–π –æ–±—ä–µ–º –ø–∞–º—è—Ç–∏ –º—ã –ø–æ–º–µ—â–∞–µ–º –≤ –±–ª–æ–∫—á–µ–π–Ω.</p>
<p>–ú—ã —Ç–∞–∫–∂–µ –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –∫–∞–∂–¥–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤, –∏ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏.</p>
<p>–ö–∞–∫ –æ–±—ã—á–Ω–æ, –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –∫–æ–¥ —ç—Ç–æ–≥–æ —ç–ø–∏–∑–æ–¥–∞ –≤ –≤–µ—Ç–∫–µ <code>episode-3</code> —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.</p>
<p><a href="https://github.com/lorisleiva/solana-twitter/tree/episode-3">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —ç–ø–∏–∑–æ–¥ 3 –Ω–∞ GitHub</a></p>
<p><a href="https://github.com/lorisleiva/solana-twitter/compare/episode-2...episode-3">–°—Ä–∞–≤–Ω–∏—Ç–µ —Å –≠–ø–∏–∑–æ–¥–æ–º 2</a></p>
<p>–í —Å–ª–µ–¥—É—é—â–µ–º —ç–ø–∏–∑–æ–¥–µ –º—ã –¥–æ–±–∞–≤–∏–º –±–æ–ª—å—à–µ –∫–æ–¥–∞ –≤ –Ω–∞—à —Ñ–∞–π–ª <code>lib.rs</code>, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–∞—à—É –ø–µ—Ä–≤—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ Tweet.</p>










<script src="https://giscus.app/client.js"
    data-repo="dudochkin-victor&#x2F;dudochkin-victor.github.io"
    data-repo-id="MDEwOlJlcG9zaXRvcnkzNzgwNTYx"
    data-category="General"
    data-category-id="DIC_kwDOADmv0c4CAhvj"
    data-mapping="pathname"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-theme="light"
    data-lang="en"
    crossorigin="anonymous"
    async>
</script>



        </div>

        
        
    </main>

    
    <footer>
        <small class="subtext">
            <a href="https://angular-rust.github.io">Dudochkin Victor</a> ¬© 2021
        </small>
    </footer>
    
</body>
<script>
    function highlightNav(heading) {
        let pathname = location.pathname;
        document.querySelectorAll(".toc a").forEach((item) => {
            item.classList.remove("active");
        });
        document.querySelector(".toc a[href$='" + pathname + "#" + heading + "']").classList.add("active");
    }

    let currentHeading = "";
    window.onscroll = function () {
        let h = document.querySelectorAll("h1,h2,h3,h4,h5,h6");
        let elementArr = [];

        h.forEach(item => {
            if (item.id !== "") {
                elementArr[item.id] = item.getBoundingClientRect().top;
            }
        });
        elementArr.sort();
        for (let key in elementArr) {
            if (!elementArr.hasOwnProperty(key)) {
                continue;
            }
            if (elementArr[key] > 0 && elementArr[key] < 300) {
                if (currentHeading !== key) {
                    highlightNav(key);
                    currentHeading = key;
                }
                break;
            }
        }
    }
</script>

</html>
